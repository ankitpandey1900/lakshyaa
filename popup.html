<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deadline & Daily Tasks</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; margin: 0; padding: 0; width: 360px; background:#0b1220; color:#e6edf3; }
        .container { padding: 12px; }
        .section { margin-bottom: 16px; }
        .row { display: flex; gap: 8px; align-items: center; }
        .input { padding: 6px 8px; border: 1px solid #2a2f3a; border-radius: 6px; background:#0b1220; color:#e6edf3; }
        button { padding: 6px 10px; border-radius: 6px; border: 1px solid #2a2f3a; background: #0f172a; color:#e6edf3; cursor: pointer; }
        button.primary { background: linear-gradient(135deg,#22c55e,#14b8a6); color: #0b1220; border-color: #0b1220; }
        h2 { font-size: 16px; margin: 0 0 8px; }
        .muted { color: #9aa4b2; font-size: 12px; }
        ul { list-style: none; padding: 0; margin: 8px 0 0; }
        li { display: flex; align-items: center; justify-content: space-between; gap: 8px; padding: 6px 0; border-bottom: 1px dashed #2a2f3a; }
        .task-title { flex: 1; }
        .progress { height: 8px; background: #1f2937; border-radius: 6px; overflow: hidden; }
        .progress > div { height: 100%; background: linear-gradient(90deg,#22c55e,#10b981); width: 0%; transition: width .2s ease; }
        .tabs { display: flex; gap: 8px; margin-bottom: 8px; }
        .tab { padding: 6px 10px; border-radius: 999px; border: 1px solid #2a2f3a; background: #0f172a; color:#9aa4b2; cursor: pointer; }
        .tab.active { background: #7c3aed; color: #fff; border-color: transparent; }
        .pill { background: #0b1220; border:1px solid #2a2f3a; border-radius: 999px; padding: 2px 8px; font-size: 11px; color:#9aa4b2; }
        .actions { display: flex; gap: 6px; }
        .small { font-size: 12px; }
        .hidden { display: none; }
        .card{background:#111827;border:1px solid #2a2f3a;border-radius:12px;padding:12px;box-shadow:0 2px 10px rgba(0,0,0,.25)}
        .countdown{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:10px}
        .countdown .segment{background:#0b1220;border:1px solid #2a2f3a;border-radius:10px;padding:10px;text-align:center}
        .countdown .num{font-size:22px;font-weight:800;color:#e5e7eb}
        .countdown .label{font-size:11px;color:#9aa4b2}
    </style>
    <script defer src="popup.js"></script>
  </head>
  <body>
    <div class="container">
      <div class="row" style="justify-content:flex-end;padding:8px 0 0;">
        <button id="open-settings" class="icon-btn" title="Settings">Settings</button>
      </div>
      <div class="section card" id="welcome-section">
        <h2>Welcome</h2>
        <div class="row" style="margin-top:6px;">
          <input class="input" type="text" id="name-input" placeholder="Enter your name once"/>
          <button class="primary" id="save-name">Save</button>
        </div>
        <div id="welcome-text" class="muted small" style="margin-top:8px;">Welcome. Let’s Achieve More!</div>
        <div id="welcome-quote" class="muted small" style="margin-top:6px;">Thoda waqt lagega, par kaam hoga, Mehnat ka fal, ek din shaandaar hoga!</div>
      </div>
      <div class="section card" id="deadline-section">
        <div class="row" style="justify-content:space-between;align-items:baseline;">
          <h2>Deadline</h2>
          <div class="muted small" id="deadline-status">Not set</div>
        </div>
        <div id="deadline-note" class="muted small" style="margin-top:2px;">What's the goal? e.g., Become a full stack developer</div>
        <div class="row" style="margin-top:6px;">
          <input class="input" type="text" id="deadline-note-input" placeholder="What's the goal? e.g., Become a full stack developer"/>
        </div>
        <div class="row" style="margin-top:6px;">
          <input class="input" type="date" id="deadline-input" />
          <button class="primary" id="save-deadline">Save</button>
        </div>
        <div class="countdown" id="countdown" aria-live="polite">
          <div class="segment"><div class="num" id="cd-years">0</div><div class="label">Years</div></div>
          <div class="segment"><div class="num" id="cd-months">0</div><div class="label">Months</div></div>
          <div class="segment"><div class="num" id="cd-days">0</div><div class="label">Days</div></div>
          <div class="segment"><div class="num" id="cd-hours">0</div><div class="label">Hours</div></div>
          <div class="segment"><div class="num" id="cd-mins">0</div><div class="label">Mins</div></div>
          <div class="segment"><div class="num" id="cd-secs">0</div><div class="label">Secs</div></div>
        </div>
        <div id="countdown-human" class="muted small" style="margin-top:8px;">Not set</div>
      </div>

      <div class="section card" id="today-section">
        <h2>Today</h2>
        <div class="pomo" style="margin-bottom:10px;">
          <div class="ring"><div class="time" id="pomo-time">25:00</div></div>
          <div>
            <div class="mode" id="pomo-mode">Focus</div>
            <div class="controls">
              <button id="pomo-start" class="primary">Start</button>
              <button id="pomo-pause">Pause</button>
              <button id="pomo-reset">Reset</button>
            </div>
          </div>
        </div>
        <div class="row">
          <input class="input" type="text" id="task-input" placeholder="Add a task for today"/>
          <button id="add-task">Add</button>
        </div>
        <div class="row small" style="gap:6px; margin-top:6px;">
          <button id="clear-done" class="pill">Clear Done</button>
          <button id="move-backlog" class="pill">Move Backlog → Today</button>
        </div>
        <div class="row small" style="justify-content: space-between; margin-top:8px;">
          <span id="progress-text">0% done</span>
          <span id="counts-text" class="muted">0/0</span>
        </div>
        <div class="progress" style="margin-top:6px;">
          <div id="progress-bar"></div>
        </div>
        <ul id="today-list"></ul>
      </div>

      <div class="section card">
        <div class="tabs">
          <button class="tab active" data-tab="history">Past 7 Days</button>
          <button class="tab" data-tab="backlog">Backlog</button>
        </div>

        <div id="history" class="tab-panel">
          <ul id="history-list"></ul>
          <div class="muted small">Showing last 7 days including today</div>
        </div>
        <div id="backlog" class="tab-panel hidden">
          <ul id="backlog-list"></ul>
        </div>
      </div>
    </div>
    <aside id="settings-drawer" class="drawer" aria-hidden="true">
      <header>
        <h2>Settings</h2>
        <button id="close-settings" class="icon-btn">Close</button>
      </header>
      <div class="section">
        <h3 style="margin:0 0 6px">Profile</h3>
        <div class="row">
          <input class="input" type="text" id="stg-name" placeholder="Your name"/>
          <button class="primary" id="stg-save-name">Save</button>
        </div>
      </div>
      <div class="section">
        <h3 style="margin:0 0 6px">Deadline</h3>
        <input class="input" type="text" id="stg-goal" placeholder="Goal description" style="margin-bottom:6px"/>
        <div class="row">
          <input class="input" type="date" id="stg-deadline"/>
          <button class="primary" id="stg-save-deadline">Save</button>
        </div>
      </div>
      <div class="section">
        <h3 style="margin:0 0 6px">Pomodoro</h3>
        <div class="row" style="margin-bottom:6px;">
          <label class="muted small" style="min-width:110px">Focus (min)</label>
          <input class="input" type="number" id="stg-pomo-focus" min="1" value="25"/>
        </div>
        <div class="row" style="margin-bottom:6px;">
          <label class="muted small" style="min-width:110px">Break (min)</label>
          <input class="input" type="number" id="stg-pomo-break" min="1" value="5"/>
        </div>
        <div class="row" style="margin-bottom:6px;">
          <label class="muted small" style="min-width:110px">Auto-cycle</label>
          <input type="checkbox" id="stg-pomo-auto" checked />
          <button class="primary" id="stg-save-pomo">Save</button>
        </div>
      </div>
      <div class="section">
        <h3 style="margin:0 0 6px">Notifications</h3>
        <div class="row" style="margin-bottom:6px;">
          <label class="muted small" for="stg-daily-time" style="min-width:110px">Daily summary at</label>
          <input class="input" type="time" id="stg-daily-time" />
        </div>
        <div class="row">
          <label class="muted small" for="stg-deadline-rem" style="min-width:110px">Deadline alert</label>
          <input type="checkbox" id="stg-deadline-rem" />
          <button class="primary" id="stg-save-notif">Save</button>
        </div>
      </div>
    </aside>
    <div id="toast" class="toast" role="status" aria-live="polite"></div>
  </body>
  </html>

